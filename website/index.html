<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeloServe - High-Performance Web Server with Embedded PHP</title>
    <meta name="description" content="VeloServe is a blazing-fast web server written in Rust with embedded PHP support. 10-100x faster than traditional setups.">
    <meta name="keywords" content="web server, PHP, Rust, high performance, WordPress, Magento, nginx alternative">
    
    <!-- Open Graph -->
    <meta property="og:title" content="VeloServe - Embedded PHP Web Server">
    <meta property="og:description" content="Blazing-fast web server with PHP embedded via FFI. 10-100x faster than PHP-FPM.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://veloserve.io">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="logo.svg" type="image/svg+xml">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="#" class="logo">
                <img src="logo.svg" alt="VeloServe" class="logo-img">
                <span class="logo-text">VeloServe</span>
            </a>
            <div class="nav-links">
                <a href="#features">Features</a>
                <a href="#performance">Performance</a>
                <a href="#install">Install</a>
                <a href="#downloads">Downloads</a>
                <a href="https://github.com/veloserve/veloserve/tree/main/docs" class="nav-link">Docs</a>
                <a href="https://github.com/veloserve/veloserve" class="nav-github" target="_blank">
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                        <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                    </svg>
                    GitHub
                </a>
                <button class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">
                    <svg class="sun-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-bg">
            <div class="grid-pattern"></div>
            <div class="glow glow-1"></div>
            <div class="glow glow-2"></div>
        </div>
        <div class="hero-content">
            <div class="badge">
                <span class="badge-dot"></span>
                v1.0.0 Released ‚Äî Linux, macOS, Windows
            </div>
            <h1>
                <span class="gradient-text">Embedded PHP</span><br>
                Web Server
            </h1>
            <p class="hero-subtitle">
                VeloServe is a high-performance web server written in <strong>Rust</strong> 
                with PHP embedded directly via FFI. No PHP-FPM. No overhead. Just speed.
            </p>
            
            <!-- Quick Install Box -->
            <div class="quick-install">
                <span class="quick-install-label">Quick Install:</span>
                <code class="quick-install-cmd">curl -sSL https://veloserve.io/install.sh | bash</code>
                <button class="copy-btn" onclick="copyInstall()" title="Copy to clipboard">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                </button>
            </div>
            
            <div class="hero-stats">
                <div class="stat">
                    <span class="stat-value">10-100x</span>
                    <span class="stat-label">Faster than CGI</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat">
                    <span class="stat-value">~1ms</span>
                    <span class="stat-label">PHP Latency</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat">
                    <span class="stat-value">2.6MB</span>
                    <span class="stat-label">Binary Size</span>
                </div>
            </div>
            <div class="hero-buttons">
                <a href="#install" class="btn btn-primary">
                    Get Started
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M5 12h14M12 5l7 7-7 7"/>
                    </svg>
                </a>
                <a href="https://ona.com/#https://github.com/veloserve/veloserve" class="btn btn-secondary" target="_blank">
                    Try in Browser
                </a>
            </div>
        </div>
        <div class="hero-code">
            <div class="code-window">
                <div class="code-header">
                    <div class="code-dots">
                        <span></span><span></span><span></span>
                    </div>
                    <span class="code-title">terminal</span>
                </div>
                <pre class="code-content"><code id="terminal-animation"></code></pre>
            </div>
            <p class="terminal-hint">üëÜ This is all you need! Copy and run:</p>
            <div class="install-command-box">
                <code>curl -sSL https://veloserve.io/install.sh | bash</code>
                <button class="copy-btn-large" onclick="copyMainInstall()">
                    <span class="copy-text">Copy</span>
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Architecture Section -->
    <section class="architecture">
        <div class="container">
            <h2 class="section-title">Two Ways to Run</h2>
            <p class="section-subtitle">Choose the mode that fits your needs</p>
            
            <div class="modes-grid">
                <div class="mode-card">
                    <div class="mode-icon">üîµ</div>
                    <h3>CGI Mode</h3>
                    <p class="mode-tagline">Simple & Portable</p>
                    <div class="mode-diagram">
                        <div class="diagram-box">VeloServe</div>
                        <div class="diagram-arrow">spawn ‚Üí</div>
                        <div class="diagram-box external">php-cgi</div>
                    </div>
                    <ul class="mode-features">
                        <li>‚úì Works everywhere</li>
                        <li>‚úì Easy debugging</li>
                        <li>‚úì All PHP extensions</li>
                        <li>‚ö†Ô∏è ~50ms latency</li>
                    </ul>
                    <div class="mode-code">
                        <code>cargo build --release</code>
                    </div>
                </div>
                
                <div class="mode-card featured">
                    <div class="mode-badge">‚úÖ Working</div>
                    <div class="mode-icon">üöÄ</div>
                    <h3>SAPI Mode</h3>
                    <p class="mode-tagline">Maximum Performance</p>
                    <div class="mode-diagram">
                        <div class="diagram-box embedded">
                            VeloServe
                            <span class="diagram-inner">+ libphp.so</span>
                        </div>
                    </div>
                    <ul class="mode-features">
                        <li>üöÄ 10-100x faster</li>
                        <li>üöÄ ~1ms latency</li>
                        <li>üöÄ WordPress ready</li>
                        <li>üöÄ Full session support</li>
                    </ul>
                    <div class="mode-code">
                        <code>cargo build --release --features php-embed</code>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Built for Speed</h2>
            <p class="section-subtitle">Everything you need for modern PHP applications</p>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ü¶Ä</div>
                    <h3>Written in Rust</h3>
                    <p>Memory-safe, blazing fast, and reliable. Built on Tokio and Hyper for async I/O.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üêò</div>
                    <h3>Embedded PHP</h3>
                    <p>PHP runs inside VeloServe via FFI. No process spawning, no IPC overhead.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üì¶</div>
                    <h3>WordPress Ready</h3>
                    <p>Full WordPress and Magento 2 support with intelligent caching rules.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Multi-Layer Cache</h3>
                    <p>Page cache, object cache, and static asset cache with automatic invalidation.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>HTTP/2 & TLS</h3>
                    <p>Modern protocols out of the box. HTTPS with automatic certificate handling.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚òÅÔ∏è</div>
                    <h3>Cloud Native</h3>
                    <p>One-click deployment on Ona.com, GitHub Codespaces, and any container platform.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Performance Section -->
    <section id="performance" class="performance">
        <div class="container">
            <h2 class="section-title">Performance That Matters</h2>
            <p class="section-subtitle">Real benchmarks, real results</p>
            
            <div class="benchmark-table">
                <div class="benchmark-header">
                    <span>Server</span>
                    <span>Requests/sec</span>
                    <span>Latency</span>
                    <span>Memory</span>
                </div>
                <div class="benchmark-row highlight">
                    <span class="server-name">
                        <span class="server-icon">‚ö°</span>
                        VeloServe (SAPI)
                    </span>
                    <span class="value fast">~10,000</span>
                    <span class="value fast">~1ms</span>
                    <span class="value">Medium</span>
                </div>
                <div class="benchmark-row">
                    <span class="server-name">VeloServe (CGI)</span>
                    <span class="value">~500</span>
                    <span class="value">~50ms</span>
                    <span class="value">Low</span>
                </div>
                <div class="benchmark-row">
                    <span class="server-name">Nginx + PHP-FPM</span>
                    <span class="value">~2,000</span>
                    <span class="value">~10ms</span>
                    <span class="value">Medium</span>
                </div>
                <div class="benchmark-row">
                    <span class="server-name">Apache + mod_php</span>
                    <span class="value">~1,500</span>
                    <span class="value">~15ms</span>
                    <span class="value">High</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Install Section -->
    <section id="install" class="install">
        <div class="container">
            <h2 class="section-title">Get Started in Minutes</h2>
            <p class="section-subtitle">Choose your installation method</p>
            
            <div class="install-tabs">
                <button class="tab active" data-tab="sapi">SAPI Mode (Fastest)</button>
                <button class="tab" data-tab="cgi">CGI Mode (Simple)</button>
                <button class="tab" data-tab="cloud">Cloud (One-Click)</button>
            </div>
            
            <div class="install-content">
                <div class="tab-content active" id="sapi">
                    <div class="install-steps">
                        <div class="step">
                            <span class="step-num">1</span>
                            <div class="step-content">
                                <h4>Install PHP Embed Library</h4>
                                <pre><code>sudo apt install php-dev libphp-embed libxml2-dev libsodium-dev</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <span class="step-num">2</span>
                            <div class="step-content">
                                <h4>Clone & Build</h4>
                                <pre><code>git clone https://github.com/veloserve/veloserve.git
cd veloserve
cargo build --release --features php-embed</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <span class="step-num">3</span>
                            <div class="step-content">
                                <h4>Run</h4>
                                <pre><code>./target/release/veloserve --config veloserve.toml</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="cgi">
                    <div class="install-steps">
                        <div class="step">
                            <span class="step-num">1</span>
                            <div class="step-content">
                                <h4>Install PHP</h4>
                                <pre><code>sudo apt install php-cgi php-mysql php-curl php-gd php-mbstring</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <span class="step-num">2</span>
                            <div class="step-content">
                                <h4>Clone & Build</h4>
                                <pre><code>git clone https://github.com/veloserve/veloserve.git
cd veloserve
cargo build --release</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <span class="step-num">3</span>
                            <div class="step-content">
                                <h4>Run</h4>
                                <pre><code>./target/release/veloserve --config veloserve.toml</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="cloud">
                    <div class="cloud-options">
                        <a href="https://ona.com/#https://github.com/veloserve/veloserve" class="cloud-btn ona" target="_blank">
                            <span class="cloud-icon">‚òÅÔ∏è</span>
                            <span class="cloud-name">Open in Ona</span>
                            <span class="cloud-desc">Pre-configured environment</span>
                        </a>
                        <a href="https://github.com/codespaces/new?hide_repo_select=true&ref=main&repo=veloserve/veloserve" class="cloud-btn codespaces" target="_blank">
                            <span class="cloud-icon">üíª</span>
                            <span class="cloud-name">Open in Codespaces</span>
                            <span class="cloud-desc">GitHub's cloud IDE</span>
                        </a>
                    </div>
                    <p class="cloud-note">Both options include Rust, PHP, and all dependencies pre-installed!</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Downloads Section -->
    <section id="downloads" class="downloads">
        <div class="container">
            <h2 class="section-title">Download Pre-built Binaries</h2>
            <p class="section-subtitle">No compilation needed ‚Äî just download and run</p>
            
            <div class="download-grid">
                <div class="download-card">
                    <div class="download-icon">üêß</div>
                    <h3>Linux</h3>
                    <div class="download-links">
                        <a href="https://github.com/veloserve/veloserve/releases/latest/download/veloserve-latest-x86_64-unknown-linux-gnu.tar.gz" class="download-link">
                            <span>x86_64 (Standard)</span>
                            <span class="download-size">~3MB</span>
                        </a>
                        <a href="https://github.com/veloserve/veloserve/releases/latest/download/veloserve-latest-x86_64-unknown-linux-gnu-php-embed.tar.gz" class="download-link featured">
                            <span>x86_64 (PHP Embed) üöÄ</span>
                            <span class="download-size">~4MB</span>
                        </a>
                        <a href="https://github.com/veloserve/veloserve/releases/latest/download/veloserve-latest-aarch64-unknown-linux-gnu.tar.gz" class="download-link">
                            <span>ARM64</span>
                            <span class="download-size">~3MB</span>
                        </a>
                    </div>
                </div>
                
                <div class="download-card">
                    <div class="download-icon">üçé</div>
                    <h3>macOS</h3>
                    <div class="download-links">
                        <a href="https://github.com/veloserve/veloserve/releases/latest/download/veloserve-latest-x86_64-apple-darwin.tar.gz" class="download-link">
                            <span>Intel (x86_64)</span>
                            <span class="download-size">~3MB</span>
                        </a>
                        <a href="https://github.com/veloserve/veloserve/releases/latest/download/veloserve-latest-aarch64-apple-darwin.tar.gz" class="download-link">
                            <span>Apple Silicon (M1/M2/M3)</span>
                            <span class="download-size">~3MB</span>
                        </a>
                    </div>
                </div>
                
                <div class="download-card">
                    <div class="download-icon">ü™ü</div>
                    <h3>Windows</h3>
                    <div class="download-links">
                        <a href="https://github.com/veloserve/veloserve/releases/latest/download/veloserve-latest-x86_64-pc-windows-msvc.zip" class="download-link">
                            <span>x86_64</span>
                            <span class="download-size">~3MB</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="download-note">
                <p><strong>üöÄ PHP Embed build</strong> = 10-100x faster PHP execution (requires <code>libphp-embed</code>)</p>
                <p><strong>Standard build</strong> = Works with any PHP installation via <code>php-cgi</code></p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <div class="cta-content">
                <h2>Ready to Serve at Light Speed?</h2>
                <p>Join developers who are shipping faster with VeloServe.</p>
                <div class="cta-buttons">
                    <a href="https://github.com/veloserve/veloserve" class="btn btn-primary" target="_blank">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                        </svg>
                        Star on GitHub
                    </a>
                    <a href="#downloads" class="btn btn-outline">
                        Download Binaries
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
            <div class="footer-brand">
                <img src="logo.svg" alt="VeloServe" class="footer-logo">
                <span class="logo-text">VeloServe</span>
            </div>
                <div class="footer-links">
                    <a href="https://github.com/veloserve/veloserve">GitHub</a>
                    <a href="https://github.com/veloserve/veloserve/issues">Issues</a>
                    <a href="https://github.com/veloserve/veloserve/blob/main/LICENSE">MIT License</a>
                </div>
                <div class="footer-copy">
                    Built with ü¶Ä Rust and ‚ù§Ô∏è
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        function copyInstall() {
            const cmd = 'curl -sSL https://veloserve.io/install.sh | bash';
            navigator.clipboard.writeText(cmd).then(() => {
                const btn = document.querySelector('.copy-btn');
                btn.innerHTML = '<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="#22c55e" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>';
                setTimeout(() => {
                    btn.innerHTML = '<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>';
                }, 2000);
            });
        }
        
        function copyMainInstall() {
            const cmd = 'curl -sSL https://veloserve.io/install.sh | bash';
            navigator.clipboard.writeText(cmd).then(() => {
                const btn = document.querySelector('.copy-btn-large');
                btn.classList.add('copied');
                btn.innerHTML = '<span class="copy-text">Copied!</span><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>';
                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = '<span class="copy-text">Copy</span><svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>';
                }, 2000);
            });
        }
        
        // Terminal typing animation
        const terminalLines = [
            { text: '# Install VeloServe (one command!)', type: 'comment', delay: 0 },
            { text: '$ curl -sSL https://veloserve.io/install.sh | bash', type: 'command', delay: 800 },
            { text: '', type: 'blank', delay: 1500 },
            { text: '  ‚ö° VeloServe Installer', type: 'output-blue', delay: 1800 },
            { text: '  ‚Üí Detected platform: linux-x86_64', type: 'output', delay: 2200 },
            { text: '  ‚Üí Downloading VeloServe v1.0.0...', type: 'output', delay: 2600 },
            { text: '  ‚Üí Installing to /usr/local/bin...', type: 'output', delay: 3200 },
            { text: '  ‚úì VeloServe installed successfully!', type: 'success', delay: 3800 },
            { text: '', type: 'blank', delay: 4200 },
            { text: '# Start serving!', type: 'comment', delay: 4500 },
            { text: '$ veloserve start --root ./mysite', type: 'command', delay: 5000 },
            { text: '', type: 'blank', delay: 5800 },
            { text: '‚ö° VeloServe v1.0.0 starting...', type: 'output-accent', delay: 6100 },
            { text: '‚úì PHP 8.3 ready', type: 'success', delay: 6500 },
            { text: '‚úì Server listening on http://0.0.0.0:8080', type: 'success', delay: 6900 },
            { text: '‚úì Ready to serve requests!', type: 'success', delay: 7300 },
        ];
        
        function runTerminalAnimation() {
            const terminal = document.getElementById('terminal-animation');
            if (!terminal) return;
            
            terminal.innerHTML = '<span class="typing-cursor"></span>';
            let currentLine = 0;
            let currentChar = 0;
            let html = '';
            
            function getSpanClass(type) {
                switch(type) {
                    case 'comment': return 'comment';
                    case 'command': return 'prompt';
                    case 'success': return 'output';
                    case 'output-blue': return 'output-blue';
                    case 'output-accent': return 'output-accent';
                    default: return '';
                }
            }
            
            function typeNextChar() {
                if (currentLine >= terminalLines.length) {
                    // Animation complete, restart after delay
                    setTimeout(() => {
                        html = '';
                        currentLine = 0;
                        currentChar = 0;
                        runTerminalAnimation();
                    }, 4000);
                    return;
                }
                
                const line = terminalLines[currentLine];
                
                if (line.type === 'blank') {
                    html += '\n';
                    terminal.innerHTML = html + '<span class="typing-cursor"></span>';
                    currentLine++;
                    setTimeout(typeNextChar, 300);
                    return;
                }
                
                if (currentChar === 0) {
                    // Start new line
                    const cls = getSpanClass(line.type);
                    if (line.type === 'command') {
                        html += '<span class="prompt">$</span> <span class="' + cls + '">';
                        currentChar = 2; // Skip "$ "
                    } else {
                        html += '<span class="' + cls + '">';
                    }
                }
                
                const displayText = line.type === 'command' ? line.text.substring(2) : line.text;
                const charIndex = line.type === 'command' ? currentChar - 2 : currentChar;
                
                if (charIndex < displayText.length) {
                    html += displayText[charIndex];
                    terminal.innerHTML = html + '<span class="typing-cursor"></span>';
                    currentChar++;
                    
                    // Typing speed varies
                    const speed = line.type === 'command' ? 30 : 10;
                    setTimeout(typeNextChar, speed);
                } else {
                    // Line complete
                    html += '</span>\n';
                    terminal.innerHTML = html + '<span class="typing-cursor"></span>';
                    currentLine++;
                    currentChar = 0;
                    
                    // Delay before next line
                    const nextDelay = currentLine < terminalLines.length 
                        ? terminalLines[currentLine].delay - line.delay 
                        : 500;
                    setTimeout(typeNextChar, Math.max(nextDelay, 200));
                }
            }
            
            setTimeout(typeNextChar, 500);
        }
        
        // Start animation when page loads
        document.addEventListener('DOMContentLoaded', runTerminalAnimation);
        
        // Theme toggle
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        }
        
        // Load saved theme or default to light
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        })();
    </script>
</body>
</html>

