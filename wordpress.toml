# VeloServe Configuration for WordPress Demo
# Start with: cargo run -- --config wordpress.toml

[server]
listen = "0.0.0.0:8080"
workers = "auto"
max_connections = 1000

[php]
enable = true
version = "8.3"
binary_path = "/usr/local/php/current/bin/php-cgi"
workers = 4
memory_limit = "256M"
max_execution_time = 300
ini_settings = [
    "opcache.enable=1",
    "opcache.memory_consumption=128",
    "upload_max_filesize=64M",
    "post_max_size=64M",
]

[cache]
enable = true
storage = "memory"
memory_limit = "256M"
default_ttl = 3600

# WordPress virtual host
[[virtualhost]]
domain = "*"
root = "/var/www/wordpress"
platform = "wordpress"
index = ["index.php", "index.html"]

[virtualhost.cache]
enable = false # Disable cache for demo/development
